# What is SIW

SIW是从财报提取指标数据的工具，帮助投资者快速从财报中取得个性化的指标数据。

# SIW v0.1能做什么

V0.1作为SIW的初始化版本，完成从银行股pdf财报文件中获取银行特色指标，并存入数据库的功能。

V0.1是验证SIW合理性的实验性版本，目的是证明SIW的愿景有效、可实现。

# SIW v0.1的需求目标

**面向受众：**个人投资者（目前为自己）

**解决的痛点：**获取财报中指标，工作量大，且容易出错。

**解决方式：**使用程序自动解析财报文件，并存入数据库中。下一步针对指标进行监控、比较与查询。

**SIW 0.1 需要解决的问题：**

1. 银行股票财报文件解析并入库；
2. 查看哪些银行股、哪些指标进行了解析。
# 
# 使用场景

## 场景一：季财报解析

当财报季来临时，投资者下载各银行股财报（包括季报和年报），存放在某个目录下，由程序统一解析并入库。

投资者要看到哪些银行财报已得到处理，哪些处理时有问题，是什么问题。

## 场景二：历史财报解析

当需要分析某支股票时，人工下载该股票历史财报，统一由程序进行处理。

投资者要看到哪些年份（季度）财报已得到处理，哪些处理时有问题，是什么问题。


# SIW v0.1的功能清单：

需要实现功能清单：

1. 银行股财报指标解析情况查询；
2. 银行股财报文件的解析与入库
    1. 多个银行股财报文件的解析与入库
    2. 单个银行股财报文件的解析与入库
        1. 年报（民生、工商、兴业）
        2. 季报（民生、工商、兴业）
## 命令行接口需求

SIW v0.1使用命令行窗口作为人机交互界面，需要支持以下几个命令行操作：

1. 单个文件解析
2. 多个文件解析
3. 查询入库数据
    1. 查询条件参数包括：股票代码、股票名、期限、指标名查询
**单个文件解析示例：**

```powershell
fm siw load -f "SH600016 民生银行 2023年年报.pdf"
# 导入单一文件
解析 "SH600016 民生银行 2023年年报.pdf", 解析15个指标 ..
更新指标库15个指标，解析完成！
```
解析失败情况：
```powershell
fm siw load -f "SH600016 民生银行 2023年年报.pdf"
解析 "SH600016 民生银行 2023年年报.pdf", 失败！
错误原因：xxxxxxxx

```


**单个整个文件夹示例：**

```powershell
fm siw load -d
# 默认文件夹
解析银行股票财报，目标文件夹：c:/temp/
共找到3个财报文件：
1. xxxx.pdf
2. yyyy.pdf
3. xx333.pdf
开始逐一文件解析:
1. 文件"SH600016 民生银行 2023年年报.pdf"成功解析, 更新15个指标；
2. 文件"SH600016 民生银行 2023年年报.pdf"解析失败！
3. 文件"SH600016 民生银行 2023年年报.pdf"解析失败！
解析操作完成，成功1个，失败2个。
```

**查询结果示例：**

```powershell
fm siw query -s 600016 -q 2022 -i 不良率
# 股票代码or股票名：模糊查询，支持多个查询
# 期限：yyyyQn，或 yyyy年报 或仅 年份yyyy
# 指标：模糊查询
# 排序：按股票代码（顺序）、期限（倒序）、指标名（顺序）
查询结果：
股票：民生银行 SH600016
2022年年报，不良率: 17.12
2023年3季报，不良率: 17.12
2023半年报年，不良率: 17.12
2023年1季报，不良率: 17.12
----------------------
股票：工商银行 SH12345
2022年年报，不良率: 17.12
2023年3季报，不良率: 17.12
2023半年报年，不良率: 17.12
2023年1季报，不良率: 17.12
----------------------
查询完毕！
```
## 非功能性需求

1. 数据库采用sqlite3
# 附件1 银行股指标清单

[银行股指标清单](https://shimo.im/sheets/L9kBBEgrrbHaZKkK)

# 附件2 指标在财报中位置

[【需求】pdf文件指标位置](https://shimo.im/sheets/R13jd0OrEJSNV4k5)

