# 软件需求说明书 Feedme v 0.0.3

## 版本概述

版本 Feedme v 0.0.3，新增需求：

- 数据下载GUI程序；
  - 每日数据下载中增加ef、bs数据下载功能；
  - 存量数据下载中增加ef、bs的股票日线存量数据下载功能；
  - About关于界面优化，根据数据库文件位置，回显类型（生产、开发）
- 股票日线数据比对
  - 进行数据源之间的股票日线数据比对，并将比对结果输出到数据库、结果文件中；

- 文档：ef、bs的研究报告

## 需求清单

| 大类 | 功能 | 说明 |
| -- | -- | -- |
| 数据下载GUI程序 | 每日数据下载中增加ef、bs数据下载功能 |  |
|  | 存量数据下载中增加ef、bs的股票日线存量数据下载功能 |  |
| | About关于界面优化，根据数据库文件位置，回显类型（生产、开发） |  |
| 股票日线数据比对 |  | |
| 文档 | 文档：ef、bs的研究报告 |  |
| bt.DataFeed | 开发基于本地Tushare数据库股票日线数据的bt.DataFeed |      |

## 1. 数据下载GUI程序

### 1.1  每日数据下载

需要实现功能：

- 原有菜单 : “下载 - 下载今日数据”点击下载按钮后，除原有Tushare数据下载外，添加ef、bs的数据下载；
- 下载内容包括 ef、bs的股票清单、股票日线数据下载；
- 下载的数据都存入各自的ods表中；
- 如果tushare接口无数据，仅影响Tushare，不影响bs、ef的数据下载；
- 如果当日是非交易日，影响全部数据源的下载

### 1.2 存量数据下载

需要实现功能：

- 原有菜单“下载-存量下载”项下增加：
  - efinance A股票日线数据下载
  - baostock A股票日线数据下载
- 操作界面参考Tushare A股日线数据下载
  - 添加数据起止日期选择，
  - 开始日期不输入则表示从接口最早日期开始；
  - 结束日期默认为当前系统日期
  - 点击下载后，需要两次用户确认，提示“启动下载后会将现有数据全部清除，且无法恢复”

## 2. 股票日线数据比对

为确保数据源质量，采用数据源之间相互比对方式。

比对内容包括：

1. 数据起始日期；
2. 同日期、同股票的OCHL金额；
3. 股票的行业数据（**Tushare和Akshare比较**）

比对输出结果分为三部分：

1. 结果：一致 or 不一致
2. 概要：日期范围，不一致日期数量，一致日期数量等
3. 详细：每一日的比对结果

### 比对详细要求





### GUI界面需求









