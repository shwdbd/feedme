# 关于Akshare

Akshare是一个不管更新的活跃项目（最新更新2022-12-7）。

官方自身的定义：

```
AKShare 是基于 Python 的财经数据接口库，目的是实现对股票、期货、期权、基金、外汇、债券、指数、加密货币等金融产品的基本面数据、实时和历史行情数据、衍生数据从数据采集、数据清洗到数据落地的一套工具，主要用于学术研究目的。
```

相对于Tushare，Akshare的特点在于其数据是在线数据，即在主流数据源上套了一个访问接口，使得更容易使用。

这样，Akshare服务器不须拥有昂贵的数据存储费用。

最新的Akshare，有Python、HTTP API两个访问方式。



### 常见问题

1. Akshare无法在翻墙网络环境下使用
2. 



### 资源

[Akshare主页]: https://akshare.akfamily.xyz/index.html



## 1. A股



### 1.1 日线数据

Akshare中A股历史数据源有：东财、新浪、网易三个数据源。不同数据源之间参数各有不同。

| 数据源   | 频率             | 接口                                           | 过滤参数                           |
| -------- | ---------------- | ---------------------------------------------- | ---------------------------------- |
| 东方财富 | 日线、周线、月线 | stock_zh_a_hist                                | 股票代码、频率、起始日期、复权模式 |
| 新浪     | 日线             | stock_zh_a_daily（建议切换为 stock_zh_a_hist） | 股票代码、起始日期、复权模式       |
| 网易     | 日线             | stock_zh_a_hist_163                            | 股票代码、起始日期、只有未复权     |

#### 东财日线

接口: stock_zh_a_hist

目标地址: https://quote.eastmoney.com/concept/sh603777.html?from=classic(示例)

描述: 东方财富-沪深京 A 股日频率数据; 历史数据按日频率更新, 当日收盘价请在收盘后获取

限量: 单次返回指定沪深京 A 股上市公司、指定周期和指定日期间的历史行情日频率数据

输入参数

| 名称       | 类型 | 描述                                                         |
| ---------- | ---- | ------------------------------------------------------------ |
| symbol     | str  | symbol='603777'; 股票代码可以在 **ak.stock_zh_a_spot_em()** 中获取 |
| period     | str  | period='daily'; choice of {'daily', 'weekly', 'monthly'}     |
| start_date | str  | start_date='20210301'; 开始查询的日期                        |
| end_date   | str  | end_date='20210616'; 结束查询的日期                          |
| adjust     | str  | 默认返回不复权的数据; qfq: 返回前复权后的数据; hfq: 返回后复权后的数据 |

输出参数-历史行情数据

| 名称   | 类型    | 描述         |
| ------ | ------- | ------------ |
| 日期   | object  | 交易日       |
| 开盘   | float64 | 开盘价       |
| 收盘   | float64 | 收盘价       |
| 最高   | float64 | 最高价       |
| 最低   | float64 | 最低价       |
| 成交量 | int32   | 注意单位: 手 |
| 成交额 | float64 | 注意单位: 元 |
| 振幅   | float64 | 注意单位: %  |
| 涨跌幅 | float64 | 注意单位: %  |
| 涨跌额 | float64 | 注意单位: 元 |
| 换手率 | float64 | 注意单位: %  |

#### 东财周线、月线

周线返回的日期是各周五的日期，最近一期为最新的日期（比如周四）

月线返回的日期是各月末日的日期，最近一期为最新的日期

输入输出参数与日线相同。

#### 新浪日线

新浪日线有两个接口：stock_zh_a_daily、stock_zh_a_hist

区别是：

|            | stock_zh_a_daily | stock_zh_a_hist |
| ---------- | ---------------- | --------------- |
| 股票参数   | sz000002         | 000002          |
| 返回值列名 | 英文，如open     | 中文， 如 开盘  |

##### 接口: stock_zh_a_daily

P.S. 建议切换为 stock_zh_a_hist 接口使用(该接口数据质量高, 访问无限制)

目标地址: https://finance.sina.com.cn/realstock/company/sh600006/nc.shtml(示例)

描述: 新浪财经-沪深京 A 股的数据, 历史数据按日频率更新; 注意其中的 **sh689009** 为 CDR, 请 通过 **ak.stock_zh_a_cdr_daily** 接口获取

限量: 单次返回指定沪深京 A 股上市公司指定日期间的历史行情日频率数据, 多次获取容易封禁 IP

输入参数

| 名称       | 类型 | 限制    | 描述                                                         |
| ---------- | ---- | ------- | ------------------------------------------------------------ |
| symbol     | str  | 必须    | symbol='sh600000'; 股票代码可以在 **ak.stock_zh_a_spot** 中获取 |
| start_date | str  |         | start_date='20201103'; 开始查询的日期                        |
| end_date   | str  |         | end_date='20201116'; 结束查询的日期                          |
| adjust     | str  | 默认qfq | 默认返回不复权的数据; qfq: 返回前复权后的数据; hfq: 返回后复权后的数据; hfq-factor: 返回后复权因子; qfq-factor: 返回前复权因子 |

输出参数

| 名称              | 类型       | 描述                   |
| ----------------- | ---------- | ---------------------- |
| date              | datetime64 | 交易日                 |
| open              | float64    | 开盘价                 |
| high              | float64    | 最高价                 |
| low               | float64    | 最低价                 |
| close             | float64    | 收盘价                 |
| volume            | float64    | 成交量; 注意单位: 股   |
| outstanding_share | float64    | 流动股本; 注意单位: 股 |
| turnover          | float64    | 换手率=成交量/流动股本 |

##### 接口: stock_zh_a_hist_163

目标地址: http://quotes.money.163.com/trade/lsjysj_601318.html?year=2022&season=2

描述: 网易财经-行情首页-沪深 A 股-每日行情; 该接口主要用户获取流通市值、总市值等指标

限量: 单次返回指定沪深 A 股（不包含北交所）上市公司指定日期间的历史行情日频率数据, 该接口只返回未复权数据

输入参数

| 名称       | 类型 | 描述                                                         |
| ---------- | ---- | ------------------------------------------------------------ |
| symbol     | str  | symbol='sh601318'; 股票代码可以在 **ak.stock_zh_a_spot()** 中获取; 其中 sh689009 没有数据 |
| start_date | str  | start_date='20201103'; 开始查询的日期                        |
| end_date   | str  | end_date='20201116'; 结束查询的日期                          |

输出参数

| 名称     | 类型    | 描述         |
| -------- | ------- | ------------ |
| 日期     | object  | -            |
| 股票代码 | object  | -            |
| 名称     | object  | -            |
| 收盘价   | float64 | -            |
| 最高价   | float64 | -            |
| 最低价   | float64 | -            |
| 开盘价   | float64 | -            |
| 前收盘   | float64 | -            |
| 涨跌额   | float64 | -            |
| 涨跌幅   | float64 | 注意单位: %  |
| 换手率   | float64 | 注意单位: %  |
| 成交量   | float64 | 注意单位: 股 |
| 成交金额 | float64 | 注意单位: 元 |
| 总市值   | float64 | 注意单位: 元 |
| 流通市值 | float64 | 注意单位: 元 |

接口示例

```
import akshare as ak

stock_zh_a_hist_163_df = ak.stock_zh_a_hist_163(symbol="sh601318", start_date="20210101", end_date="20220101")
print(stock_zh_a_hist_163_df)
```

数据示例

```
        日期    股票代码    名称  ...          成交金额        总市值        流通市值
0    2021-01-04  601318  中国平安  ...  8.814287e+09  1.557111e+12  9.227264e+11
1    2021-01-05  601318  中国平安  ...  8.795810e+09  1.540476e+12  9.128686e+11
2    2021-01-06  601318  中国平安  ...  7.950362e+09  1.567348e+12  9.287927e+11
3    2021-01-07  601318  中国平安  ...  9.137581e+09  1.576854e+12  9.344256e+11
4    2021-01-08  601318  中国平安  ...  1.006906e+10  1.573929e+12  9.326924e+11
..          ...     ...   ...  ...           ...           ...           ...
238  2021-12-27  601318  中国平安  ...  1.373482e+09  9.136465e+11  5.414166e+11
239  2021-12-28  601318  中国平安  ...  3.137431e+09  9.299159e+11  5.510576e+11
240  2021-12-29  601318  中国平安  ...  1.913670e+09  9.288191e+11  5.504077e+11
241  2021-12-30  601318  中国平安  ...  2.167180e+09  9.215070e+11  5.460746e+11
242  2021-12-31  601318  中国平安  ...  1.805071e+09  9.215070e+11  5.460746e+11
```

#### 网易日线

接口: stock_zh_a_hist_163

目标地址: http://quotes.money.163.com/trade/lsjysj_601318.html?year=2022&season=2

描述: 网易财经-行情首页-沪深 A 股-每日行情; 该接口主要用户获取流通市值、总市值等指标

限量: 单次返回指定沪深 A 股（不包含北交所）上市公司指定日期间的历史行情日频率数据, 该接口只返回未复权数据

输入参数

| 名称       | 类型 | 描述                                                         |
| ---------- | ---- | ------------------------------------------------------------ |
| symbol     | str  | symbol='sh601318'; 股票代码可以在 **ak.stock_zh_a_spot()** 中获取; 其中 sh689009 没有数据 |
| start_date | str  | start_date='20201103'; 开始查询的日期                        |
| end_date   | str  | end_date='20201116'; 结束查询的日期                          |

输出参数

| 名称     | 类型    | 描述         |
| -------- | ------- | ------------ |
| 日期     | object  | -            |
| 股票代码 | object  | -            |
| 名称     | object  | -            |
| 收盘价   | float64 | -            |
| 最高价   | float64 | -            |
| 最低价   | float64 | -            |
| 开盘价   | float64 | -            |
| 前收盘   | float64 | -            |
| 涨跌额   | float64 | -            |
| 涨跌幅   | float64 | 注意单位: %  |
| 换手率   | float64 | 注意单位: %  |
| 成交量   | float64 | 注意单位: 股 |
| 成交金额 | float64 | 注意单位: 元 |
| 总市值   | float64 | 注意单位: 元 |
| 流通市值 | float64 | 注意单位: 元 |

### 1.2 分钟线数据

【待补充】

### 1.3 股票清单

没有一个单独的接口回显股票清单，但可以通过实时行情数据返回各交易所股票清单。

```python
# 返回沪深京A股清单：
df = ak.stock_zh_a_spot_em()[['代码', '名称']]
# 返回
# 0  688084   N晶品
# 1  601022   N宁远
```

单独交易所访问：

```python
# 沪A
df = ak.stock_sh_a_spot_em()[['代码', '名称']]
# 深A
df = ak.stock_sz_a_spot_em()[['代码', '名称']]
# 京A
df = ak.stock_bj_a_spot_em()[['代码', '名称']]
```

### 1.4 市场数据

stock_sse_summary

stock_sse_deal_daily（上海证券交易所-每日概况）



stock_szse_summary

stock_szse_area_summary（地区交易排序）

stock_szse_sector_summary（股票行业成交）

### 1.5 个股数据

stock_individual_info_em



### 1.6 财报数据







## 8 新闻类

### 8.1 CCTV新闻文字稿

新闻联播文字稿, 数据区间从 20160330-至今

输入参数：

| 名称 | 类型 | 描述                           |
| ---- | ---- | ------------------------------ |
| date | str  | date="20210708"; 20160330-至今 |

输出参数：

| 名称    | 类型   | 描述     |
| ------- | ------ | -------- |
| date    | object | 新闻日期 |
| title   | object | 新闻标题 |
| content | object | 新闻内容 |

代码示例：

```python
import akshare as ak

df = ak.news_cctv(date="20221206")
# 2   20221206  深切缅怀 继承遗志 不断谱写党和国家事业发展新篇章——各地干部群众收看收听江泽民同志追悼大会  今天（12月6日），全国各地广大干部群众怀着极其悲痛的心情，收看收听了江泽民同志追悼大会，沉...
```







## 9 工具类

### 9.1 交易日历

这里的交易日历与Tushare不同，不分交易所（估计是股票交易所），只返回交易日，不返回非交易日。

返回从 1990-12-19 到 2022-12-30 之间的股票交易日历数据

```python
import akshare as ak

df = ak.tool_trade_date_hist_sina()
```

## 附录A Akshare接口清单

| 接口                      | 说明           | 文档地址                                                 |
| ------------------------- | -------------- | -------------------------------------------------------- |
| tool_trade_date_hist_sina | 交易日历       | https://akshare.akfamily.xyz/data/tool/tool.html         |
| news_cctv                 | CCTV新闻文字版 | https://akshare.akfamily.xyz/data/others/others.html#id6 |
|                           |                |                                                          |







